/* Dark Mode Overrides */

/* 基础元素的暗黑模式 */
body.dark-mode {
  background-color: var(--bg-color);
  color: var(--text-color);
}

/* 输入控件样式 */
body.dark-mode input,
body.dark-mode select,
body.dark-mode textarea {
  background-color: #424242;
  color: var(--text-color);
  border-color: var(--border-color);
}

body.dark-mode input::placeholder,
body.dark-mode select::placeholder,
body.dark-mode textarea::placeholder {
  color: #909090;
}

body.dark-mode input:focus,
body.dark-mode select:focus,
body.dark-mode textarea:focus {
  border-color: var(--primary-color);
  outline: none;
  box-shadow: 0 0 0 2px rgba(141, 179, 158, 0.3);
}

/* 改善按钮在暗黑模式下的样式 */
body.dark-mode .btn-primary {
  background-color: var(--primary-color);
  color: #121212;
}

body.dark-mode .btn-secondary {
  border-color: var(--primary-color);
  color: var(--primary-color);
}

body.dark-mode .action-btn {
  background-color: #444444;
}

body.dark-mode .action-btn:hover {
  background-color: #505050;
}

/* 改善设置项目在暗黑模式下的样式 */
body.dark-mode .setting-item {
  border-color: var(--border-color);
}

/* 改善卡片在暗黑模式下的样式 */
body.dark-mode .card {
  background-color: var(--card-bg);
  box-shadow: var(--shadow-md);
}

/* 改善模态框在暗黑模式下的样式 */
body.dark-mode .modal-content {
  background-color: var(--card-bg);
  box-shadow: var(--shadow-lg);
}

/* 滚动条美化 */
body.dark-mode ::-webkit-scrollbar {
  width: 8px;
}

body.dark-mode ::-webkit-scrollbar-track {
  background: #333333;
}

body.dark-mode ::-webkit-scrollbar-thumb {
  background: #666666;
  border-radius: 4px;
}

body.dark-mode ::-webkit-scrollbar-thumb:hover {
  background: #777777;
}

/* 毒舌模式与暗黑模式结合的额外样式 */
body.dark-mode.savage-mode .btn-primary,
body.dark-mode.savage-mode .btn-secondary {
  border-color: var(--savage-primary-color, #ff5252);
  color: #000000;
}

body.dark-mode.savage-mode .setting-item {
  border-color: #505050;
}

/* 修复页面和卡片背景 */
body.dark-mode .settings-page,
body.dark-mode .home-page,
body.dark-mode .saved-notes-page,
body.dark-mode .onboarding-page {
  background-color: var(--bg-color);
}

body.dark-mode .settings-section,
body.dark-mode .note-container,
body.dark-mode .card {
  background-color: var(--card-bg);
}

/* 平滑过渡所有元素 */
* {
  transition: background-color 0.1s ease, color 0.1s ease, border-color 0.1s ease, box-shadow 0.1s ease;
}
